---
description: è‡ªåŠ¨åŒ–æ’æ¡©ç³»ç»ŸåŒ–è°ƒè¯•å·¥ä½œæµ - /automated-debug [description]
---

# Automated Systematic Debugging

$ARGUMENTS

---

## ç›®çš„

æ­¤å·¥ä½œæµæ¿€æ´»**è‡ªåŠ¨åŒ–æ’æ¡©è°ƒè¯•æ¨¡å¼**ã€‚å®ƒç»“åˆäº†â€œç³»ç»ŸåŒ–è°ƒè¯•æ€ç»´â€ä¸â€œè‡ªåŠ¨åŒ–è¯æ®æœé›†â€å·¥å…·ï¼Œç”¨äºè§£å†³æ— æ³•é€šè¿‡ç®€å•æ—¥å¿—å®šä½çš„å¤æ‚é—®é¢˜ã€‚

---

## å·¥ä½œæµç¨‹

å½“ `/automated-debug` è¢«è§¦å‘æ—¶ï¼Œè¯·ä¸¥æ ¼éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### 1. å‡†å¤‡ä¸å‡è®¾ (Strategy)

- **å¯åŠ¨æœåŠ¡å™¨**: (// turbo) `node .agent/skills/automated-instrumented-debugging/scripts/debug-server.js`
- **åˆ†æç—‡çŠ¶**: ç†è§£ç”¨æˆ·æŠ¥å‘Šçš„ Bugã€‚
- **æå‡ºå‡è®¾**: åˆ—å‡º 1-3 ä¸ªæœ€å¯èƒ½çš„æ ¹æœ¬åŸå› ã€‚
- **åˆ¶å®šè®¡åˆ’**: å†³å®šåœ¨ä½•å¤„æ’å…¥æ¢é’ˆ (`fetch`) ä»¥éªŒè¯å‡è®¾ã€‚

### 2. æ’æ¡©æ‰§è¡Œ (Instrumentation)

- **å‚è€ƒæŠ€èƒ½**: é˜…è¯» `.agent/skills/automated-instrumented-debugging/SKILL.md` è·å–æ¨¡æ¿ã€‚
- **æ¤å…¥æ¢é’ˆ**: åœ¨å…³é”®è·¯å¾„æ’å…¥ `#region DEBUG` ä»£ç å—ã€‚
  - _Trace_: è¿½è¸ªå‡½æ•°è¿›å…¥/é€€å‡ºã€‚
  - _State_: æ•è·å…³é”®å˜é‡å¿«ç…§ã€‚
  - _Error_: æ•è·å¼‚å¸¸å †æ ˆã€‚

### 3. è¯æ®æœé›† (Evidence)

- **è§¦å‘ Bug**: è¿è¡Œèƒ½å¤Ÿå¤ç°é—®é¢˜çš„æµ‹è¯•æˆ–è„šæœ¬ã€‚
- **è·å–è¯æ®**: `curl http://localhost:9876/logs/{session}`
- **éªŒè¯å‡è®¾**: å¯¹æ¯”æ—¥å¿—æ•°æ®ä¸é¢„æœŸè¡Œä¸ºã€‚

### 4. åˆ†æä¸ä¿®å¤ (Resolution)

- **æ ¹æœ¬åŸå› **: åŸºäºè¯æ®ç¡®å®š Root Causeã€‚
- **å®æ–½ä¿®å¤**: ä¿®æ”¹ä»£ç å¹¶éªŒè¯ã€‚
- **æ¸…ç†ç¯å¢ƒ**:
  - **ç§»é™¤æ’æ¡©**: `node .agent/skills/automated-instrumented-debugging/scripts/cleanup.js`
  - **å…³é—­æœåŠ¡å™¨**: `curl -X DELETE http://localhost:9876/shutdown`

---

## è¾“å‡ºæ¨¡æ¿

åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºä½ çš„è°ƒè¯•è¿›åº¦ï¼š

````markdown
## ğŸ”¬ Automated Debug: [Issue Summary]

### 1. Hypothesis & Plan

_æ¨æµ‹åŸå› _ï¼š[æè¿°]
_æ’æ¡©ç­–ç•¥_ï¼šå°†åœ¨ [File:Line] æ’å…¥ [Type] æ¢é’ˆã€‚

### 2. Evidence Analysis

_æ—¥å¿—æ•°æ®_ï¼š

```json
{ "type": "var", "fn": "calc", "data": { "val": NaN } }
```
````

_ç»“è®º_ï¼šæ•°æ®è¯æ˜äº† [å‡è®¾] æˆç«‹/ä¸æˆç«‹ã€‚

### 3. Root Cause

ğŸ¯ **[æ ¹æœ¬åŸå› è§£é‡Š]**

### 4. Fix & Cleanup

- [x] ä»£ç å·²ä¿®å¤
- [x] æ’æ¡©ä»£ç å·²ç§»é™¤
- [x] è°ƒè¯•æœåŠ¡å™¨å·²å…³é—­

```

---

## å…³é”®åŸåˆ™

- **Don't Guess, Measure**: ä¸€åˆ‡ä»¥ `debug-server` æœé›†åˆ°çš„æ•°æ®ä¸ºå‡†ã€‚
- **Clean Up**: ä¸¥ç¦æäº¤è°ƒè¯•ç”¨çš„ `#region DEBUG` ä»£ç ã€‚
- **Systematic**: ä¸è¦ç›²ç›®æ’æ¡©ï¼Œå…ˆæœ‰å‡è®¾å†è¡ŒåŠ¨ã€‚
```
